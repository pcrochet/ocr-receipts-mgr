{% extends "admin/base_site.html" %}

{% block content %}
<h1>Outils OCR</h1>

<form method="post" style="margin-bottom: 1em;">
  {% csrf_token %}
  <div style="margin-bottom:.5rem">
    <label>Dossier à scanner :</label>
    <input type="text" name="base_dir" value="{{ request.GET.base_dir|default:'' }}" style="width: 420px;">
  </div>

  <label><input type="checkbox" name="recursive"> Scan récursif</label>
  &nbsp;&nbsp;
  <label><input type="checkbox" name="dry_run"> Dry-run</label>

  <div style="margin-top:.8rem">
    <button type="submit" class="button">Lancer la collecte</button>
  </div>
</form>

{% if banner %}
  <div style="margin:.5rem 0; padding:.5rem .7rem; border:1px solid #c6e1c6; background:#e6ffec;">
    {{ banner }}
  </div>
{% endif %}

{% if log_text %}
  <h3>Journal d’exécution</h3>
  <textarea readonly style="width:100%; height:320px; font-family:ui-monospace, SFMono-Regular, Menlo, Consolas, monospace; white-space:pre; overflow:auto;">{{ log_text }}</textarea>
{% endif %}

{% endblock %}
